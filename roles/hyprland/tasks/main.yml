---
# Hyprland Window Manager Installation Role
# Installs Hyprland compositor on Ubuntu systems using JaKooLit installer

- name: "hyprland | Setting Role Facts"
  ansible.builtin.set_fact:
    role_name: "hyprland"

- name: "{{ role_name }} | Check WSL environment"
  ansible.builtin.debug:
    msg: "⚠️  Skipping Hyprland installation (incompatible with WSL - Wayland requires native Linux)"
  when: ansible_host_environment_is_wsl | default(false)

- name: "{{ role_name }} | Exit if WSL"
  ansible.builtin.meta: end_play
  when: ansible_host_environment_is_wsl | default(false)

- name: "{{ role_name }} | Checking for Distribution Config: {{ ansible_distribution }}"
  ansible.builtin.stat:
    path: "{{ role_path }}/tasks/{{ ansible_distribution }}.yml"
  register: distribution_config

- name: "{{ role_name }} | Run Tasks: {{ ansible_distribution }}"
  ansible.builtin.include_tasks: "{{ ansible_distribution }}.yml"
  when: distribution_config.stat.exists
